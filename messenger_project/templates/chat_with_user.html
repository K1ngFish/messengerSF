{% extends 'index.html' %}

{% block content %}
    <h2>Chat with {{ other_user.username }}</h2>
    <div class="messages">
        {% for message in messages %}
            <div class="message">
                <strong>{{ message.author.username }}:</strong>
                <span>{{ message.content }}</span>
                <span class="timestamp">{{ message.timestamp|date:"SHORT_DATETIME_FORMAT" }}</span>
            </div>
        {% endfor %}
    </div>
    <form method="post" class="message-form">
        {% csrf_token %}
        <textarea name="content" placeholder="Type your message here..." required></textarea>
        <button type="submit">Send</button>
    </form>
{% endblock %}

{% block extra_css %}
<style>
    .messages { margin-bottom: 20px; }
    .message { margin-bottom: 10px; }
    .timestamp { color: #666; font-size: 0.8em; }
    .message-form textarea { width: 100%; margin-bottom: 10px; }
</style>
{% endblock %}
